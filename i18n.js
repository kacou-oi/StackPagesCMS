// I18n Dictionary
export const i18n = {
    en: {
        "nav.home": "Home",
        "nav.serverless": "Serverless Functions",
        "nav.tutorials": "Video Tutorials",
        "nav.announcements": "Announcements",
        "nav.get_started": "Get Started",
        "hero.title": "The <span class=\"text-gradient\">fastest</span> way to build your website",
        "hero.subtitle": "StackPages is a modern CMS powered by Cloudflare Workers. Deploy globally in seconds, scale infinitely, and deliver content at the edge.",
        "hero.cta_primary": "Start Building",
        "hero.cta_secondary": "Learn More",
        "stats.locations": "Edge Locations",
        "stats.latency": "Response Time",
        "stats.uptime": "Uptime SLA",
        "features.title": "Built for modern developers",
        "features.subtitle": "Everything you need to build and deploy fast",
        "features.fast.title": "Lightning Fast",
        "features.fast.desc": "Powered by Cloudflare's global network. Your site loads in milliseconds, anywhere.",
        "features.secure.title": "Secure by Default",
        "features.secure.desc": "No databases to hack. Content stored on GitHub, encrypted and version controlled.",
        "features.deploy.title": "Easy to Deploy",
        "features.deploy.desc": "One-click deployment to Cloudflare Workers. No DevOps required.",
        "features.templates.title": "Beautiful Templates",
        "features.templates.desc": "5+ professional templates included. Switch themes without losing content.",
        "features.opensource.title": "Open Source",
        "features.opensource.desc": "100% open source. Customize everything. Deploy your own instance.",
        "features.cost.title": "Cost Effective",
        "features.cost.desc": "Free tier includes 100k requests/day. Perfect for most projects.",
        "steps.title": "Get started in 3 steps",
        "steps.subtitle": "From zero to production in minutes",
        "steps.step1.title": "Fork the Repository",
        "steps.step1.desc": "Clone StackPages to your GitHub account",
        "steps.step2.title": "Deploy to Workers",
        "steps.step2.desc": "One-click deploy to Cloudflare's edge network",
        "steps.step3.title": "Start Publishing",
        "steps.step3.desc": "Create content and go live instantly",
        "cta.title": "Ready to launch?",
        "cta.subtitle": "Join thousands of developers building fast, secure, and scalable websites with StackPages.",
        "cta.button": "Get Started Now",
        "footer.product": "Product",
        "footer.company": "Company",
        "footer.about": "About",
        "footer.blog": "Blog",
        "serverless.title": "Serverless Architecture",
        "serverless.subtitle": "How StackPages leverages Cloudflare Workers to deliver content instantly.",
        "serverless.edge.title": "Edge Rendering",
        "serverless.edge.desc": "Unlike traditional servers, our Worker runs on Cloudflare's global network. Every request is handled by the data center closest to the user, ensuring near-zero latency. HTML is generated dynamically at the edge, combining static templates with dynamic content.",
        "serverless.feed.title": "Universal Feed Parser",
        "serverless.feed.desc": "The Worker acts as a universal adapter. It fetches RSS feeds from Substack, YouTube, and Podcast hosts, parses the XML, and transforms it into a unified JSON structure. This allows you to use any content source without changing your frontend code.",
        "serverless.htmx.title": "HTMX Native",
        "serverless.htmx.desc": "The backend is aware of HTMX. When it detects an `HX-Request` header, it returns only the necessary HTML fragment (like a card or a list) instead of the full page. This creates a Single Page Application (SPA) feel without the complexity of client-side frameworks.",
        "serverless.cache.title": "Smart Caching",
        "serverless.cache.desc": "To minimize latency and avoid hitting rate limits on external APIs, the Worker implements a smart caching strategy. Parsed feed data is cached using the Cache API and KV storage, ensuring that your site remains fast and available even if the source feeds are slow or down.",
        "serverless.code.title": "Worker Logic Snippet",
        "announcements.title": "Announcements",
        "announcements.load_more": "Load More Articles",
        "tutorials.title": "Video Tutorials",
        "tutorials.load_more": "Load More Videos",
        "get_started.title": "Choose your deployment",
        "get_started.subtitle": "Start building with StackPages today",
        "get_started.opensource": "OPEN SOURCE",
        "get_started.recommended": "RECOMMENDED",
        "get_started.self_hosted.title": "Self Git Hosted",
        "get_started.self_hosted.subtitle": "With free developers API",
        "get_started.self_hosted.feature1": "Full Source Code Access",
        "get_started.self_hosted.feature2": "Host on your own Cloudflare",
        "get_started.self_hosted.feature3": "Unlimited Customization",
        "get_started.self_hosted.feature4": "Community Support",
        "get_started.self_hosted.cta": "Fork on GitHub",
        "get_started.managed.title": "Managed Deployment",
        "get_started.managed.subtitle": "With advanced options",
        "get_started.managed.feature1": "One-Click Deployment",
        "get_started.managed.feature2": "Automatic Updates",
        "get_started.managed.feature3": "Premium Templates",
        "get_started.managed.feature4": "Priority Support",
        "get_started.managed.cta": "Start Free Trial",
        "contact.title": "Contact Sales",
        "contact.subtitle": "Get in touch with our team",
        "contact.name": "Full Name",
        "contact.email": "Email Address",
        "contact.message": "Message",
        "contact.submit": "Send Message"
    },
    fr: {
        "nav.home": "Accueil",
        "nav.serverless": "Fonctions Serverless",
        "nav.tutorials": "Tutoriels Vidéo",
        "nav.announcements": "Annonces",
        "nav.get_started": "Commencer",
        "hero.title": "La façon la plus <span class=\"text-gradient\">rapide</span> de créer votre site web",
        "hero.subtitle": "StackPages est un CMS moderne propulsé par Cloudflare Workers. Déployez mondialement en quelques secondes, évoluez à l'infini et diffusez du contenu à la périphérie.",
        "hero.cta_primary": "Commencer à construire",
        "hero.cta_secondary": "En savoir plus",
        "stats.locations": "Emplacements Edge",
        "stats.latency": "Temps de réponse",
        "stats.uptime": "SLA de disponibilité",
        "features.title": "Conçu pour les développeurs modernes",
        "features.subtitle": "Tout ce dont vous avez besoin pour construire et déployer rapidement",
        "features.fast.title": "Rapide comme l'éclair",
        "features.fast.desc": "Propulsé par le réseau mondial de Cloudflare. Votre site se charge en millisecondes, partout.",
        "features.secure.title": "Sécurisé par défaut",
        "features.secure.desc": "Pas de base de données à pirater. Contenu stocké sur GitHub, chiffré et versionné.",
        "features.deploy.title": "Facile à déployer",
        "features.deploy.desc": "Déploiement en un clic sur Cloudflare Workers. Pas de DevOps requis.",
        "features.templates.title": "Modèles magnifiques",
        "features.templates.desc": "5+ modèles professionnels inclus. Changez de thème sans perdre de contenu.",
        "features.opensource.title": "Open Source",
        "features.opensource.desc": "100% open source. Personnalisez tout. Déployez votre propre instance.",
        "features.cost.title": "Rentable",
        "features.cost.desc": "Le niveau gratuit inclut 100k requêtes/jour. Parfait pour la plupart des projets.",
        "steps.title": "Commencez en 3 étapes",
        "steps.subtitle": "De zéro à la production en quelques minutes",
        "steps.step1.title": "Forker le dépôt",
        "steps.step1.desc": "Clonez StackPages sur votre compte GitHub",
        "steps.step2.title": "Déployer sur Workers",
        "steps.step2.desc": "Déploiement en un clic sur le réseau edge de Cloudflare",
        "steps.step3.title": "Commencer à publier",
        "steps.step3.desc": "Créez du contenu et mettez en ligne instantanément",
        "cta.title": "Prêt à lancer ?",
        "cta.subtitle": "Rejoignez des milliers de développeurs qui construisent des sites web rapides, sécurisés et évolutifs avec StackPages.",
        "cta.button": "Commencer maintenant",
        "footer.product": "Produit",
        "footer.company": "Entreprise",
        "footer.about": "À propos",
        "footer.blog": "Blog",
        "serverless.title": "Architecture Serverless",
        "serverless.subtitle": "Comment StackPages exploite Cloudflare Workers pour livrer du contenu instantanément.",
        "serverless.edge.title": "Rendu Edge",
        "serverless.edge.desc": "Contrairement aux serveurs traditionnels, notre Worker s'exécute sur le réseau mondial de Cloudflare. Chaque requête est traitée par le centre de données le plus proche de l'utilisateur, garantissant une latence quasi nulle. Le HTML est généré dynamiquement à la périphérie, combinant des modèles statiques avec du contenu dynamique.",
        "serverless.feed.title": "Parseur de flux universel",
        "serverless.feed.desc": "Le Worker agit comme un adaptateur universel. Il récupère les flux RSS de Substack, YouTube et des hébergeurs de podcasts, analyse le XML et le transforme en une structure JSON unifiée. Cela vous permet d'utiliser n'importe quelle source de contenu sans modifier votre code frontend.",
        "serverless.htmx.title": "Natif HTMX",
        "serverless.htmx.desc": "Le backend est conscient de HTMX. Lorsqu'il détecte un en-tête `HX-Request`, il renvoie uniquement le fragment HTML nécessaire (comme une carte ou une liste) au lieu de la page complète. Cela crée une sensation d'application à page unique (SPA) sans la complexité des frameworks côté client.",
        "serverless.cache.title": "Mise en cache intelligente",
        "serverless.cache.desc": "Pour minimiser la latence et éviter d'atteindre les limites de débit sur les API externes, le Worker implémente une stratégie de mise en cache intelligente. Les données de flux analysées sont mises en cache à l'aide de l'API Cache et du stockage KV, garantissant que votre site reste rapide et disponible même si les flux sources sont lents ou en panne.",
        "serverless.code.title": "Extrait de logique Worker",
        "announcements.title": "Annonces",
        "announcements.load_more": "Charger plus d'articles",
        "tutorials.title": "Tutoriels Vidéo",
        "tutorials.load_more": "Charger plus de vidéos",
        "get_started.title": "Choisissez votre déploiement",
        "get_started.subtitle": "Commencez à construire avec StackPages aujourd'hui",
        "get_started.opensource": "OPEN SOURCE",
        "get_started.recommended": "RECOMMANDÉ",
        "get_started.self_hosted.title": "Auto-hébergé Git",
        "get_started.self_hosted.subtitle": "Avec API développeurs gratuite",
        "get_started.self_hosted.feature1": "Accès complet au code source",
        "get_started.self_hosted.feature2": "Hébergez sur votre propre Cloudflare",
        "get_started.self_hosted.feature3": "Personnalisation illimitée",
        "get_started.self_hosted.feature4": "Support communautaire",
        "get_started.self_hosted.cta": "Forker sur GitHub",
        "get_started.managed.title": "Déploiement géré",
        "get_started.managed.subtitle": "Avec options avancées",
        "get_started.managed.feature1": "Déploiement en un clic",
        "get_started.managed.feature2": "Mises à jour automatiques",
        "get_started.managed.feature3": "Modèles premium",
        "get_started.managed.feature4": "Support prioritaire",
        "get_started.managed.cta": "Essai gratuit",
        "contact.title": "Contacter les ventes",
        "contact.subtitle": "Entrez en contact avec notre équipe",
        "contact.name": "Nom complet",
        "contact.email": "Adresse email",
        "contact.message": "Message",
        "contact.submit": "Envoyer le message"
    }
};

export function getLanguage(url) {
    const path = new URL(url).pathname;
    if (path.startsWith('/fr')) return 'fr';
    return 'en';
}

export function translate(key, lang) {
    return i18n[lang][key] || i18n['en'][key] || key;
}

// Helper to replace all {{i18n.key}} placeholders
export function localizeContent(content, lang) {
    return content.replace(/{{i18n\.([a-zA-Z0-9_.]+)}}/g, (match, key) => {
        return translate(key, lang);
    }).replace(/{{lang}}/g, lang);
}
